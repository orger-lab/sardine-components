<sardine:VesselUserControl x:Class="Sardine.Sequencer.Views.WPF.ISequencer_UI"
                           x:TypeArguments="sequencer:ISequencer"
                           xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                           xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                           xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
                           xmlns:sardine ="clr-namespace:Sardine.Core.Views.WPF;assembly=Sardine.Core.Views.WPF"
                           xmlns:sequencer="clr-namespace:Sardine.Sequencer;assembly=Sardine.Sequencer"
                           xmlns:local="clr-namespace:Sardine.Sequencer.Views.WPF"
                           xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
                           mc:Ignorable="d" 
                           
                           Background="Gray"
                           d:DataContext="{d:DesignData IsDesignTimeCreatable=False, Type=sequencer:ISequencer}"
                           >
    <Grid>
        <StackPanel>
            <CheckBox Content="Record Outputs" IsChecked="{Binding Path=CollectReadouts, UpdateSourceTrigger=PropertyChanged}">
                <CheckBox.Style>
                    <Style TargetType="CheckBox">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding Path=IsArmed, UpdateSourceTrigger=PropertyChanged}" Value="True">
                                <Setter Property="IsEnabled" Value="False"/>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </CheckBox.Style>
            </CheckBox>
            <WrapPanel>
                <Label Content="Total Patterns"/>
                <TextBox x:Name="TextBox_SeqLength" Text="{Binding RelativeSource={RelativeSource AncestorType=sardine:VesselUserControl}, Path=NumberOfPatterns, UpdateSourceTrigger=PropertyChanged}" Width="70">
                    <TextBox.Style>
                        <Style TargetType="TextBox">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Path=IsRunning, UpdateSourceTrigger=PropertyChanged}" Value="True">
                                    <Setter Property="IsEnabled" Value="False"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </TextBox.Style>
                </TextBox>
            </WrapPanel>

            <Button x:Name="Button_Start" d:Content="Start" Click="Button_Start_Click">
                <Button.Style>
                    <Style TargetType="Button" >
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding Path=IsArmed, UpdateSourceTrigger=PropertyChanged}" Value="False">
                                <Setter Property="IsEnabled" Value="False"/>
                            </DataTrigger>
                            <DataTrigger Binding="{Binding Path=IsRunning, UpdateSourceTrigger=PropertyChanged}" Value="False">
                                <Setter Property="Content" Value="Start"/>
                            </DataTrigger>
                            <DataTrigger Binding="{Binding Path=IsRunning, UpdateSourceTrigger=PropertyChanged}" Value="True">
                                <Setter Property="Content" Value="Stop"/>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
            </Button>
            <Line Width="50" Height="10" X1="0" X2="50"  Y1="5" Y2="5"  Fill="Black" Stroke="Black"/>
            <TextBlock>
                 <Run Text="Progress: "/>
                 <Run Text="{Binding RelativeSource={RelativeSource AncestorType=sardine:VesselUserControl}, Path=ExecutionProgressPercentage, UpdateSourceTrigger=PropertyChanged, Mode=OneWay, StringFormat={}{0:0.00}}"/>
            </TextBlock>
            <TextBlock>
                    <Run Text="Time left: "/>
                    <Run Text="{Binding  RelativeSource={RelativeSource AncestorType=sardine:VesselUserControl}, Path=ExpectedTimeLeft, UpdateSourceTrigger=PropertyChanged, Mode=OneWay}"/>
            </TextBlock>
            <TextBlock>
                    <Run Text="Current Pattern: "/>
                    <Run Text="{Binding  Path=CurrentPattern, UpdateSourceTrigger=PropertyChanged, Mode=OneWay}"/>
                    <Run Text="/"/>
                    <Run Text="{Binding Path=TotalSequenceLength, UpdateSourceTrigger=PropertyChanged,Mode=OneWay}"/>
            </TextBlock>
        </StackPanel>
    </Grid>
</sardine:VesselUserControl>
